process.title = "discordarena";

var reponsesGlobales = [
    'Je le pense aussi.',
    'La vérité est ailleurs...',
    'Bonjour !',
    'Je prends ceci comme une déclaration de guerre !',
    'No comment.',
    'Tu peux répéter ? Je dormais...',
    'Je préfère ne pas répondre.',
    'Je ne suis pas d\'accord !',
];

var server = null;
var Discord = require('discord.js');
var client = new Discord.Client();

client.login('Mzg1MzcxNjI2MDg4MzAwNTQ0.DQAY2A.YK6aoMM4ph5G3MIP7pAqgF_kl3U'); //clef secrète obtenue via Discord Developers

client.on('ready', () => {
    console.log('I am ready!');
    server = client.guilds.get("256079257162350602");
    console.log('' + server.name);
    server.channels.find(chan => chan.id === "384709036924469250").send("Arena, ready to serve.");  //Changer les 2 ID en fonction de votre chan  

});

client.on('message', message => {

    if (!message.author.bot) {

        var string = message.content;

        var substringsNom = ["Arena"];
        
        for (var i = 0, len = substringsNom.length; i < len; i++) {
            if (string.indexOf(substringsNom[i]) !== -1) {
                var reponse = randomreply(reponsesGlobales);
                message.reply(reponse);
            }
        }
    }
});

function randomreply(reponses) {
    var randomNumber = Math.floor(Math.random() * reponses.length);
    return reponses[randomNumber];
}
function browseMaps(element) {
    console.log(element.name);
}
